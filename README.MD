# AI Camera Log File Checker

## Overview
The **AI Camera Log File Checker** is a Python-based desktop application designed to analyze log files generated by AI-powered cameras. It provides a graphical user interface (GUI) built with PyQt5 to load, filter, and visualize log data, detect errors, and export results for further analysis. The application is tailored for processing CSV log files containing timestamped data, error messages, object detections, and centroids, with visualization capabilities using Matplotlib and OpenCV.

## Features
- **Load Log Files**: Import CSV log files containing camera data with columns for Timestamp, Detections, Objects, Messages, and Centroids.
- **Error Filtering**: Filter error messages based on predefined categories (e.g., "Not passed Laser", "No laser completed signal") or display all errors.
- **Frame Number Search**: Find the frame number corresponding to a specific timestamp (format: `YY-MM-DD-HH:MM:SS`).
- **Interactive Table**: View error messages in a table with editable columns for comments and solutions, supporting multi-row selection and drag-and-drop functionality.
- **Export to Excel**: Export filtered error messages to an `.xlsx` file, with options to export all errors or only those with comments.
- **Visualization**: Plot camera data for a specified frame range with customizable steps, displaying objects and detections on a canvas using OpenCV.
- **Clear Status**: Reset the status display to clear previous messages.

## Requirements
To run the application, ensure you have the following dependencies installed:
- Python 3.8 or higher
- PyQt5
- pandas
- numpy
- opencv-python
- matplotlib

You can install the required packages using pip:
```bash
pip install pyqt5 pandas numpy opencv-python matplotlib
```

## Installation
1. Clone the repository to your local machine:
   ```bash
   git clone https://github.com/your-username/ai-camera-log-checker.git
   ```
2. Navigate to the project directory:
   ```bash
   cd ai-camera-log-checker
   ```
3. Install the required dependencies:
   ```bash
   pip install -r requirements.txt
   ```
4. Run the application:
   ```bash
   python main.py
   ```

## Usage
1. **Launch the Application**:
   - Run the `main.py` script to open the GUI.
2. **Load a Log File**:
   - Click the "Load Logfile" button and select a CSV file with the expected format (columns: Timestamp, Detections, Objects, Messages, Centroids).
   - The status label will indicate if the file was loaded successfully.
3. **Filter Error Messages**:
   - Use the dropdown menu to select an error filter or choose "-- No filter --" to view all errors.
   - Click "Print Error Messages" to display filtered errors in the table.
4. **Search Frame by Timestamp**:
   - Enter a timestamp in the format `YY-MM-DD-HH:MM:SS` (e.g., `24-12-21-07:58:47`).
   - Click "Find Frame Number" to display the corresponding frame number.
5. **Edit and Export Errors**:
   - Double-click cells in the "Comment" or "Slutions" columns to add notes.
   - Select "Export all" or "Only errors that have been commented" and click "Export to .xlsx" to save the error data to an Excel file.
6. **Visualize Data**:
   - Enter values for "Startframe", "Endframe", and "Steps" in the evaluation section.
   - Click "Start Evaluation" to open a plot window showing object and detection data for the specified frame range.
   - Use the slider in the plot window to navigate through frames.
7. **Clear Status**:
   - Click "Clear Status" to reset the status label.

## File Structure
- `main.py`: The main application script containing the GUI and logic.
- `README.md`: This file, providing documentation for the project.
- `requirements.txt`: List of Python dependencies.

## Log File Format
The application expects CSV log files with the following columns (delimited by `;`):
- **Timestamp**: In the format `YY-MM-DD-HH:MM:SS` (e.g., `24-12-21-07:58:47`).
- **Detections**: Comma-separated detection data (e.g., class, ID, width, height, x, y).
- **Objects**: Comma-separated object data (e.g., ID, x, y, label).
- **Messages**: Error or status messages (e.g., "Not passed Laser").
- **Centroids**: Centroid coordinates (optional, can be `none`).

Example CSV row:
```
24-12-21-07:58:47,0,100,50,200,300,none,Not passed Laser,none
```

## Notes
- Ensure the CSV file is properly formatted to avoid loading errors.
- The application skips bad lines in the CSV file and fills missing values with `none`.
- The plot window uses OpenCV to draw rectangles representing detection and object areas, with customizable colors for different regions.
- The exported Excel file is saved in the same directory as the input log file, with a name based on the log file and its parent directory.

## Contributing
Contributions are welcome! Please follow these steps:
1. Fork the repository.
2. Create a new branch (`git checkout -b feature/your-feature`).
3. Make your changes and commit (`git commit -m 'Add your feature'`).
4. Push to the branch (`git push origin feature/your-feature`).
5. Open a pull request.

## License
This project is licensed under the MIT License. See the `LICENSE` file for details.

## Contact
For questions or support, please open an issue on the GitHub repository or contact [your-email@example.com].